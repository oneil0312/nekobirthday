<!DOCTYPE html>
<html>
<head>
  <title>马里奥撞砖块</title>
  <style>
    #mario {
      position: absolute;
      bottom: 0;
      left: 200px;
      width: 100px;
      height: 50px;
      background-image: url("mario.png");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 1;
    }

    .jump-animation {
      animation-name: jump;
      animation-duration: 0.5s;
      animation-fill-mode: forwards;
    }

    @keyframes jump {
      0% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-50px);
      }
      100% {
        transform: translateY(0);
      }
    }

    .brick {
      position: absolute;
      bottom: 80px;
	  left: 205px;
      width: 100px;
      height: 100px;
    }

    .brick-air {
	position: absolute;
      bottom: 50px;
      left: 230px;
    }

    .brick-animation {
      left: 205px;
	  background-image: url("coinbrick.jpg");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      animation: brickJumpUp 0.7s linear;
    }

	#coin {
	  background-image: url("coin.jpg");
	  background-size: contain;
	  background-repeat: no-repeat;
	  position: absolute;
	  top: 780px; /* 調整此處的數值 */
	  left: 225px; /* 調整此處的數值 */
	  width: 60px;
	  height: 60px;
	  display: none;
	}
    .coin-jump {
      animation: jumpUp 0.5s linear;
    }

    @keyframes jumpUp {
      0% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-50px);
      }
      100% {
        transform: translateY(-100px);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div class="brick brick-air"></div>
  <div class="brick brick-animation"></div>
  <div id="mario"></div>
  <div id="coin"></div>
  
  <audio id="coinSound">
    <source src="coin.mp3" type="audio/mpeg">
    <source src="coin_sound.ogg" type="audio/ogg">
  </audio>

  <script>
    var mario = document.getElementById("mario");
    var brickAir = document.querySelector(".brick-air");
    var brickAnimation = document.querySelector(".brick-animation");
    var coin = document.getElementById("coin");
    var coinSound = document.getElementById("coinSound");

    document.addEventListener("keydown", function(event) {
      if (event.key === "ArrowUp") {
        var brickAirRect = brickAir.getBoundingClientRect();
        var brickAirTop = brickAirRect.top;
        var brickAirBottom = brickAirRect.bottom;
        var brickAirLeft = brickAirRect.left;
        var brickAirRight = brickAirRect.right;

        var marioRect = mario.getBoundingClientRect();
        var marioTop = marioRect.top;
        var marioBottom = marioRect.bottom;
        var marioLeft = marioRect.left;
        var marioRight = marioRect.right;

        if (marioBottom >= brickAirTop && marioTop <= brickAirBottom && marioRight >= brickAirLeft && marioLeft <= brickAirRight) {
          coinSound.currentTime = 0;
          coinSound.play();

          coin.style.display = "block";
          coin.classList.add("coin-jump");

          setTimeout(function() {
            coin.classList.remove("coin-jump");
            coin.style.display = "none";
          }, 500);
        }

        mario.classList.add("jump-animation");
        setTimeout(function() {
          mario.classList.remove("jump-animation");
        }, 500);
      }
    });
  </script>
</body>
</html>
